<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Encode Post-Acts</title>
    <link rel="stylesheet" href="/assetsEncode/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
    <link rel="stylesheet" href="/assetsEncode/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="/assetsEncode/css/Contact-Form-Clean.css">
</head>

<body id="page-top">
    <div id="wrapper">
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <nav class="navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top" style="background: linear-gradient(47deg, rgba(207,244,210,1) 0%, rgba(86,197,150,1) 100%);">
                    <div class="container-fluid"><button class="btn btn-link d-md-none rounded-circle mr-3" id="sidebarToggleTop" type="button"><i class="fas fa-bars"></i></button>
                        <form class="form-inline d-none d-sm-inline-block mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                            <div class="input-group"><button class="btn btn-primary" type="button" style="background-color: #329d9c;" onclick="window.location.href = '/dashboardADM'">Back</button></div>
                        </form>
                        <ul class="nav navbar-nav flex-nowrap ml-auto">
                            <li class="nav-item dropdown no-arrow mx-1" role="presentation"><span id="orgNameTitle" style="font-size: 28px;color: #205072;">CSO - ADM</span></li>
                        </ul>
                    </div>
                </nav>
                <div class="container-fluid">
                    <h3 class="text-dark mb-1" id="encodePreactsHeader">Encode POSTACTS</h3>
                    <h3 class="text-dark" id="encodePostactsHeader" style="font-size: 28px; display: none;">Encode PREACTS</h3>
                </div>
            </div>
        </div>
    </div>
        <div class="border rounded shadow d-flex flex-column flex-grow-1 justify-content-between flex" id="encodePreactsForm" style="height: 100%;margin: 30px;margin-top: 0px;width: 95%;padding: 15px;/*border-radius: 10px;*/">
        <div class="table-responsive table-borderless">
                <table class="table table-bordered table-sm">
                    <tbody>
                        <tr></tr>
                        <tr>
                            <td class="font-weight-bold">Activity Name</td>
                            <td class="font-weight-bold">Status</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start">
                                    <select class="d-xl-flex flex-grow-1 flex-fill" type="text" id="actName">
                                        <optgroup label="Activity Name - Submitted By">
                                            {{#each docus}}
                                                <option data-id="{{_id}}">{{actName}} - {{subBy}}</option>
                                            {{/each}}
                                        </optgroup>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start">
                                    <select class="flex-grow-1" id="status">
                                        <optgroup label="Status">
                                            <option selected="">Early Complete</option>
                                            <option>Early Incomplete</option>
                                            <option>Late Incomplete</option>
                                            <option>Pended</option>
                                            <option>Acknowledged Cancellation</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-weight-bold">Received by</td>
                            <td class="font-weight-bold">Date Received</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start">
                                    <select class="flex-grow-1" id="recBy">
                                        <optgroup label="Received By">
                                            {{#each users}}
                                                <option>{{givenname}} {{lastname}}  </option>
                                            {{/each}}
                                        </optgroup>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start"><input class="d-xl-flex flex-grow-1 flex-fill" type="date" id="dateRec"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-weight-bold">First Checked by</td>
                            <td class="font-weight-bold">Date Checked</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start">
                                    <select class="flex-grow-1" id="firstCheck">
                                        <optgroup label="First Checked By">
                                            {{#each users}}
                                                <option>{{givenname}} {{lastname}}</option>
                                            {{/each}}
                                        </optgroup>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start"><input class="d-xl-flex flex-grow-1 flex-fill" type="date" id="firstDate"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-weight-bold">Second Checked by</td>
                            <td class="font-weight-bold">Date Checked</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start">
                                    <select class="flex-grow-1" id="secondCheck">
                                        <optgroup label="Second Checked By">
                                            {{#each users}}
                                                <option>{{givenname}} {{lastname}}</option>
                                            {{/each}}
                                        </optgroup>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start"><input class="d-xl-flex flex-grow-1 flex-fill" type="date" id="secondDate"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-weight-bold">Filed by</td>
                            <td class="font-weight-bold">Date Filed</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start">
                                    <select class="flex-grow-1" id="filedBy">
                                        <optgroup label="Filed By">
                                            {{#each users}}
                                                <option>{{givenname}} {{lastname}}</option>
                                            {{/each}}
                                        </optgroup>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start"><input class="d-xl-flex flex-grow-1 flex-fill" type="date" id="fileDate"></div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">Remarks</td>
                        </tr>
                        <tr>
                            <td class="flex-grow-1 flex-fill" colspan="3">
                                <div class="d-xl-flex flex-grow-1 flex-fill justify-content-xl-start"><input class="d-xl-flex flex-grow-1 flex-fill" type="text" id="remarks"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row" style="margin: 0px;">
            <div class="col" style="padding: 0px 30px;"><input type="submit" value="Encode" class="btn btn-primary float-right" id="confirmEncode" type="button" style="margin-left: 0px;margin-right: 0px;margin-bottom: 30px;background-color: #329d9c;"></input></div>
        </div>
    <script src="/assetsEncode/js/jquery.min.js"></script>
    <script src="/assetsEncode/bootstrap/js/bootstrap.min.js"></script>
    <script src="/assetsEncode/js/hiding%20form%20div.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.js"></script>
    <script src="/assetsEncode/js/theme.js"></script>
</body>

<script>
    $(document).ready(function(){
        $("#confirmEncode").click(function(){
            console.log("aguy")
                let id = $('#actName').find(':selected').data('id')
                let recBy = $('#recBy :selected').text() 
                let dateRec = new Date($('#dateRec').val()) 
                let firstCheck = $('#firstCheck :selected').text() 
                let firstDate = new Date($('#firstDate').val()) 
                let secondCheck = $('#secondCheck :selected').text() 
                let secondDate = new Date($('#secondDate').val()) 
                let filedBy = $('#filedBy :selected').text() 
                let fileDate = new Date($('#fileDate').val()) 
                let status = $('#status :selected').text() 
                let remarks = $('#remarks').val() 
                console.log(recBy)
                console.log(dateRec)
                console.log(remarks)
                $.ajax({
                url: "/docu/encodeADM",
                method: "post",
                data: {
                    id: id,
                    recBy: recBy,
                    dateRec: dateRec,
                    firstCheck: firstCheck,
                    firstDate: firstDate,
                    secondCheck: secondCheck,
                    secondDate: secondDate,
                    filedBy: filedBy,
                    fileDate: fileDate,
                    status: status,
                    remarks: remarks
                },
                success: function(result){
                    alert("Document encoded!")
                    window.location.href  = "/dashboardADM"
                    },
                error: function(jqXHR, exception){
                    alert("Document encoded!")
                    window.location.href  = "/dashboardADM"
                }
                })
        })
    })
</script>

</html>